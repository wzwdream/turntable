{"version":3,"sources":["turntable/turntable.jsx","App.js","serviceWorker.js","index.js"],"names":["Turntable","options","Object","classCallCheck","this","canvas","context","startRadian","canBeClick","awards","that","food","text","maxLineWidth","wordList","split","tempLine","lineList","i","length","measureText","width","push","save","beginPath","fillStyle","arc","Math","PI","fill","restore","RadianGap","endRadian","moveTo","font","translate","cos","sin","rotate","getLineTextList","name","forEach","line","index","fillText","lineTo","closePath","e","canvasPostion","getBoundingClientRect","x","clientX","y","clientY","left","top","_this","canvasStyle","getAttribute","render","addEventListener","loc","windowToCanvas","isPointInPath","distance","distanceToStop","rotatePanel","setAttribute","concat","changeRadian","random","selectedFood","window","requestAnimationFrame","bind","middleDegrees","_this2","awardsToDegreesList","map","data","awardRadian","currentPrizeIndex","floor","drawPanel","drawPrizeBlock","drawButton","drawArrow","App","props","possibleConstructorReturn","getPrototypeOf","call","React","createRef","state","title","meatFood","level","vegetablesFood","soupFood","setState","current","getContext","height","startRotate","localStorage","setItem","JSON","stringify","getItem","parse","getList","changFood","react_default","a","createElement","className","onClick","ref","Component","Boolean","location","hostname","match","ReactDOM","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.0a79b33a.chunk.js","sourcesContent":["// 转盘类\nexport default class Turntable {\n  constructor(options) {\n    this.canvas = options.canvas\n    this.context = options.context\n    this.startRadian = 0\n    this.canBeClick = true\n    this.awards = options.awards\n    this.that = options.that\n    this.food = ''\n  }\n  getLineTextList(context, text, maxLineWidth) {\n    let wordList = text.split(''), tempLine = '', lineList = []\n    for (let i = 0; i < wordList.length; i++) {\n      if (context.measureText(tempLine).width >= maxLineWidth) {\n        lineList.push(tempLine)\n        maxLineWidth -= context.measureText(text[0]).width\n        tempLine = ''\n      }\n      tempLine += wordList[i]\n    }\n    lineList.push(tempLine)\n    return lineList\n  }\n  drawPanel() {\n    const context = this.context\n    const startRadian = this.startRadian\n    context.save()\n    context.beginPath()\n    context.fillStyle = '#FD6961'\n    context.arc(150, 150, 150, startRadian, Math.PI * 2 + startRadian, false)\n    context.fill()\n    context.restore()\n  }\n  // 奖品块\n  drawPrizeBlock() {\n    const context = this.context\n    const awards = this.awards\n    let startRadian = this.startRadian, RadianGap = Math.PI * 2 / awards.length, endRadian = startRadian + RadianGap\n    for (let i = 0; i < awards.length; i++) {\n      context.save()\n      context.beginPath()\n      context.fillStyle = i % 3 === 0 ? '#96fbc4' : i % 3 === 1 ? '#fddb92' : '#ace0f9'\n      context.moveTo(150, 150)\n      context.arc(150, 150, 140, startRadian, endRadian, false)\n      context.fill()\n      context.restore()\n\n      context.save()\n      context.fillStyle = '#000'\n      context.font = \"14px Arial\"\n      context.translate(\n        150 + Math.cos(startRadian + RadianGap / 2) * 140,\n        150 + Math.sin(startRadian + RadianGap / 2) * 140\n      )\n      context.rotate(startRadian + RadianGap / 2 + Math.PI / 2)\n      this.getLineTextList(context, awards[i].name, 70).forEach((line, index) => {\n        context.fillText(line, -context.measureText(line).width / 2, ++index * 25)\n      })\n      context.restore()\n\n      startRadian += RadianGap\n      endRadian += RadianGap\n    }\n  }\n  // 开始按钮\n  drawButton() {\n    const context = this.context\n    context.save()\n    context.beginPath()\n    context.fillStyle = '#FF0000'\n    context.arc(150, 150, 30, 0, Math.PI * 2, false)\n    context.fill()\n    context.restore()\n\n    context.save()\n    context.beginPath()\n    context.fillStyle = '#000'\n    context.font = '20px Arial'\n    context.translate(150, 150)\n    context.fillText('Start', -context.measureText('Start').width / 2, 8)\n    context.restore()\n  }\n  // 箭头\n  drawArrow() {\n    const context = this.context\n    context.save()\n    context.beginPath()\n    context.fillStyle = '#FF0000'\n    context.moveTo(140, 125)\n    context.lineTo(150, 100)\n    context.lineTo(160, 125)\n    context.closePath()\n    context.fill()\n    context.restore()\n  }\n  windowToCanvas(canvas, e) {\n    const canvasPostion = canvas.getBoundingClientRect(), x = e.clientX, y = e.clientY\n    return {\n      x: x - canvasPostion.left,\n      y: y - canvasPostion.top\n    }\n  };\n  // 开始转动\n  startRotate() {\n    const canvas = this.canvas\n    const context = this.context\n    const canvasStyle = canvas.getAttribute('style');\n    this.render()\n    canvas.addEventListener('mousedown', e => {\n      if (!this.canBeClick) return\n      this.canBeClick = false\n      let loc = this.windowToCanvas(canvas, e)\n      context.beginPath()\n      context.arc(150, 150, 30, 0, Math.PI * 2, false)\n      if (context.isPointInPath(loc.x, loc.y)) {\n        this.startRadian = 0\n        const distance = this.distanceToStop()\n        this.rotatePanel(distance)\n      }\n    })\n    canvas.addEventListener('mousemove', e => {\n      let loc = this.windowToCanvas(canvas, e)\n      context.beginPath()\n      context.arc(150, 150, 30, 0, Math.PI * 2, false)\n      if (context.isPointInPath(loc.x, loc.y)) {\n        canvas.setAttribute('style', `cursor: pointer;${canvasStyle}`)\n      } else {\n        canvas.setAttribute('style', canvasStyle)\n      }\n    })\n  }\n  rotatePanel(distance) {\n    let changeRadian = (distance - this.startRadian) * (100 / (Math.random() * 5000 + 4000) * 1.5)\n    this.startRadian += changeRadian\n    if (distance - this.startRadian <= 0.05) {\n      this.canBeClick = true;\n      this.that.selectedFood(this.food)\n      return\n    }\n    this.render()\n    window.requestAnimationFrame(this.rotatePanel.bind(this, distance));\n  }\n  distanceToStop() {\n    let middleDegrees = 0, distance = 0\n    const awardsToDegreesList = this.awards.map((data, index) => {\n      let awardRadian = (Math.PI * 2) / this.awards.length\n      return awardRadian * index + (awardRadian * (index + 1) - awardRadian * index) / 2\n    });\n    const currentPrizeIndex = Math.floor(Math.random() * this.awards.length)\n    this.food = this.awards[currentPrizeIndex].name\n    middleDegrees = awardsToDegreesList[currentPrizeIndex];\n    distance = Math.PI * 3 / 2 - middleDegrees\n    distance = distance > 0 ? distance : Math.PI * 2 + distance\n    return distance + Math.PI * 10;\n  };\n  render() {\n    this.drawPanel()\n    this.drawPrizeBlock()\n    this.drawButton()\n    this.drawArrow()\n  }\n}","import React, { Component } from 'react'\nimport Turntable from './turntable/turntable'\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.canvas = React.createRef()\n    this.state = {\n      title: '荤菜',\n      food: ''\n    }\n    this.meatFood = [\n      { level: '1', name: '回锅肉'},\n      { level: '2', name: '红烧肉'},\n      { level: '3', name: '苦瓜炒肉'}\n    ]\n    this.vegetablesFood = [\n      { level: '1', name: '凉拌黄瓜'},\n      { level: '2', name: '木耳菜'},\n      { level: '3', name: '西红柿炒鸡蛋'}\n    ]\n    this.soupFood = [\n      { level: '1', name: '紫菜蛋花汤'},\n      { level: '2', name: '西红柿鸡蛋汤'},\n      { level: '3', name: '黄瓜皮蛋汤'}\n    ]\n  }\n  changFood(food) {\n    this.setState({\n      food: ''\n    })\n    const canvas = this.canvas.current\n    const context = canvas.getContext('2d')\n    canvas.width = 300\n    canvas.height = 300\n    const turntable = new Turntable({ canvas: canvas, context: context, awards: this[food], that: this })\n    turntable.startRotate()\n\n    const title = food === 'meatFood' ? '荤菜' : food === 'vegetablesFood' ? '素菜' : '汤'\n    this.setState({\n      title: title\n    })\n  }\n  selectedFood(food) {\n    this.setState({\n      food: food\n    })\n  }\n\n  // 获取食物列表\n  getList() {\n    localStorage.setItem('meatFood',JSON.stringify(this.meatFood))\n    const meatFood = localStorage.getItem('meatFood')\n    const vegetablesFood = localStorage.getItem('vegetablesFood')\n    const soupFood = localStorage.getItem('soupFood')\n    meatFood && (this.meatFood = JSON.parse(localStorage.getItem('meatFood')))\n    vegetablesFood && (this.meatFood = JSON.parse(localStorage.getItem('vegetablesFood')))\n    soupFood && (this.meatFood = JSON.parse(localStorage.getItem('soupFood')))\n  }\n  componentDidMount() {\n    this.getList()\n    this.changFood('meatFood')\n  }\n  render() {\n    return <div className='container'>\n      <div className='title'>\n        <span>{this.state.title}</span>\n      </div>\n      <div className='btnGroup'>\n        <button className='btn' onClick={() => this.changFood('meatFood')}>荤菜</button>\n        <button className='btn' onClick={() => this.changFood('vegetablesFood')}>素菜</button>\n        <button className='btn' onClick={() => this.changFood('soupFood')}>汤</button>\n      </div>\n      <div className='selected'>\n        <span>选中的食物：{this.state.food}</span>\n      </div>\n      <div className='box'>\n        <canvas ref={this.canvas} className='canvas'></canvas>\n      </div>\n    </div>\n  }\n}\nexport default App","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}